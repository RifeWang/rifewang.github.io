<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>GitHub Actions 指南 - 凌虚 Blog</title><meta name=Description content="GitHub Actions 指南"><meta property="og:url" content="https://rifewang.github.io/github-actions/">
<meta property="og:site_name" content="凌虚 Blog"><meta property="og:title" content="GitHub Actions 指南"><meta property="og:description" content="GitHub Actions 指南"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-12-23T00:00:00+08:00"><meta property="article:modified_time" content="2023-02-27T15:51:36+08:00"><meta property="article:tag" content="Github"><meta property="article:tag" content="CICD"><meta property="og:image" content="https://rifewang.github.io/images/avatar.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rifewang.github.io/images/avatar.png"><meta name=twitter:title content="GitHub Actions 指南"><meta name=twitter:description content="GitHub Actions 指南"><meta name=application-name content="凌虚的博客"><meta name=apple-mobile-web-app-title content="凌虚的博客"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://rifewang.github.io/github-actions/><link rel=prev href=https://rifewang.github.io/ava-codecov-travis/><link rel=next href=https://rifewang.github.io/image-search-system/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"GitHub Actions 指南","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/rifewang.github.io\/github-actions\/"},"image":["https:\/\/rifewang.github.io\/images\/avatar.png"],"genre":"posts","keywords":"Github, CICD","wordcount":2728,"url":"https:\/\/rifewang.github.io\/github-actions\/","datePublished":"2019-12-23T00:00:00+08:00","dateModified":"2023-02-27T15:51:36+08:00","license":"Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)","publisher":{"@type":"Organization","name":"凌虚","logo":"https:\/\/rifewang.github.io\/images\/avatar.png"},"author":{"@type":"Person","name":"凌虚"},"description":"GitHub Actions 指南"}</script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-VRMQFEVL7J"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-VRMQFEVL7J")</script><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"light"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"light"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="凌虚 Blog">凌虚的博客</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/about>作者 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="凌虚 Blog">凌虚的博客</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/about title>作者</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class="toc-content always-active" id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">GitHub Actions 指南</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>凌虚</a></span>&nbsp;<span class=post-category>included in <a href=/categories/uncate/><i class="far fa-folder fa-fw" aria-hidden=true></i>Uncate</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2019-12-23>2019-12-23</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2728 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;6 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#基本概念>基本概念</a></li><li><a href=#配置-workflow>配置 workflow</a></li><li><a href=#on>on</a></li><li><a href=#jobs>jobs</a></li><li><a href=#runs-on--strategy>runs-on & strategy</a><ul><li><a href=#runs-on-多环境>runs-on 多环境</a></li></ul></li><li><a href=#steps>steps</a></li><li><a href=#action>action</a><ul><li><a href=#checkout-action>checkout action</a></li><li><a href=#引用-action>引用 action</a><ul><li><a href=#1引用公有库中的-action>1、引用公有库中的 action</a></li><li><a href=#2引用同一个库中的-action>2、引用同一个库中的 action</a></li><li><a href=#3引用-docker-hub-上的-container>3、引用 Docker Hub 上的 container</a></li></ul></li><li><a href=#构建-actions>构建 actions</a></li></ul></li><li><a href=#env>env</a></li><li><a href=#if--context>if & context</a><ul><li><a href=#-expression-><code>${{ &lt;expression> }}</code></a></li></ul></li><li><a href=#结语>结语</a></li></ul></nav></div></div><div class=content id=content><h1 id=github-actions-指南>GitHub Actions 指南</h1><p>GitHub Actions 使你可以直接在你的 GitHub 库中创建自定义的工作流，工作流指的就是自动化的流程，比如构建、测试、打包、发布、部署等等，也就是说你可以直接进行 CI（持续集成）和 CD （持续部署）。</p><hr><h2 id=基本概念>基本概念</h2><ul><li>workflow : 一个 workflow 工作流就是一个完整的过程，每个 workflow 包含一组 jobs 任务。</li><li>job : jobs 任务包含一个或多个 job ，每个 job 包含一系列的 steps 步骤。</li><li>step : 每个 step 步骤可以执行指令或者使用一个 action 动作。</li><li>action : 每个 action 动作就是一个通用的基本单元。</li></ul><hr><h2 id=配置-workflow>配置 workflow</h2><p>workflow 必须存储在你的项目库根路径下的 <code>.github/workflows</code> 目录中，每一个 workflow 对应一个具体的 <code>.yml</code> 文件（或者 <code>.yaml</code>）。</p><p>workflow 示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>name: Greet Everyone
</span></span><span class=line><span class=cl># This workflow is triggered on pushes to the repository.
</span></span><span class=line><span class=cl>on: [push]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  your_job_id:
</span></span><span class=line><span class=cl>    # Job name is Greeting
</span></span><span class=line><span class=cl>    name: Greeting
</span></span><span class=line><span class=cl>    # This job runs on Linux
</span></span><span class=line><span class=cl>    runs-on: ubuntu-latest
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      # This step uses GitHub&#39;s hello-world-javascript-action: https://github.com/actions/hello-world-javascript-action
</span></span><span class=line><span class=cl>      - name: Hello world
</span></span><span class=line><span class=cl>        uses: actions/hello-world-javascript-action@v1
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          who-to-greet: &#39;Mona the Octocat&#39;
</span></span><span class=line><span class=cl>        id: hello
</span></span><span class=line><span class=cl>      # This step prints an output (time) from the previous step&#39;s action.
</span></span><span class=line><span class=cl>      - name: Echo the greeting&#39;s time
</span></span><span class=line><span class=cl>        run: echo &#39;The time was ${{ steps.hello.outputs.time }}.&#39;
</span></span></code></pre></td></tr></table></div></div><p>说明：</p><ul><li>最外层的 <code>name</code> 指定了 workflow 的名称。</li><li><code>on</code> 声明了一旦发生了 push 操作就会触发这个 workflow 。</li><li><code>jobs</code> 定义了任务集，其中可以有一个或多个 job 任务，示例中只有一个。</li><li><code>runs-on</code> 声明了运行的环境。</li><li><code>steps</code> 定义需要执行哪些步骤。</li><li>每个 <code>step</code> 可以定义自己的 <code>name</code> 和 <code>id</code> ，通过 <code>uses</code> 可以声明使用一个具体的 <code>action</code> ，通过 <code>run</code> 声明需要执行哪些指令。</li><li><code>${{ }}</code> 可以使用上下文参数。</li></ul><p>上述示例可以抽象为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>name: &lt;workflow name&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>on: &lt;events that trigger workflows&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  &lt;job_id&gt;:
</span></span><span class=line><span class=cl>    name: &lt;job_name&gt;
</span></span><span class=line><span class=cl>    runs-on: &lt;runner&gt;
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      - name: &lt;step_name&gt;
</span></span><span class=line><span class=cl>        uses: &lt;action&gt;
</span></span><span class=line><span class=cl>        with:
</span></span><span class=line><span class=cl>          &lt;parameter_name&gt;: &lt;parameter_value&gt;
</span></span><span class=line><span class=cl>        id: &lt;step_id&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      - name: &lt;step_name&gt;
</span></span><span class=line><span class=cl>        run: &lt;commands&gt;
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=on>on</h2><p><code>on</code> 声明了何时触发 workflow ，它可以是：</p><ul><li>一个或多个 GitHub 事件，比如 push 了一个 commit、创建了一个 issue、产生了一次 pull request 等等，示例：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>on: [push, pull_request]
</span></span></code></pre></td></tr></table></div></div><ul><li>预定的时间，示例（每天零点零分触发）：</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>on:
</span></span><span class=line><span class=cl>  schedule:
</span></span><span class=line><span class=cl>    - cron:  &#39;0 0 * * *&#39;
</span></span></code></pre></td></tr></table></div></div><ul><li>某个外部事件。所谓外部事件触发，简而言之就是你可以通过 REST API 向 GitHub 发送请求去触发，具体请查阅官方文档: <a href=https://developer.github.com/v3/repos/#create-a-repository-dispatch-event target=_blank rel="noopener noreffer">repository-dispatch-event</a></li></ul><p>配置多个事件，示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>on:
</span></span><span class=line><span class=cl>  # Trigger the workflow on push or pull request,
</span></span><span class=line><span class=cl>  # but only for the master branch
</span></span><span class=line><span class=cl>  push:
</span></span><span class=line><span class=cl>    branches:
</span></span><span class=line><span class=cl>      - master
</span></span><span class=line><span class=cl>  pull_request:
</span></span><span class=line><span class=cl>    branches:
</span></span><span class=line><span class=cl>      - master
</span></span><span class=line><span class=cl>  # Also trigger on page_build, as well as release created events
</span></span><span class=line><span class=cl>  page_build:
</span></span><span class=line><span class=cl>  release:
</span></span><span class=line><span class=cl>    types: # This configuration does not affect the page_build event above
</span></span><span class=line><span class=cl>      - created
</span></span></code></pre></td></tr></table></div></div><p>详细文档请参考: <a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/events-that-trigger-workflows target=_blank rel="noopener noreffer">触发事件</a></p><hr><h2 id=jobs>jobs</h2><p>jobs 可以包含一个或多个 job ，如:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  my_first_job:
</span></span><span class=line><span class=cl>    name: My first job
</span></span><span class=line><span class=cl>  my_second_job:
</span></span><span class=line><span class=cl>    name: My second job
</span></span></code></pre></td></tr></table></div></div><p>如果多个 job 之间存在依赖关系，那么你可能需要使用 <code>needs</code> :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  job1:
</span></span><span class=line><span class=cl>  job2:
</span></span><span class=line><span class=cl>    needs: job1
</span></span><span class=line><span class=cl>  job3:
</span></span><span class=line><span class=cl>    needs: [job1, job2]
</span></span></code></pre></td></tr></table></div></div><p>这里的 <code>needs</code> 声明了 job2 必须等待 job1 成功完成，job3 必须等待 job1 和 job2 依次成功完成。</p><p>每个任务默认超时时间最长为 360 分钟，你可以通过 <code>timeout-minutes</code> 进行配置:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  job1:
</span></span><span class=line><span class=cl>    timeout-minutes:
</span></span></code></pre></td></tr></table></div></div><hr><h2 id=runs-on--strategy>runs-on & strategy</h2><p><code>runs-on</code> 指定了任务的 runner 即执行环境，runner 分两种：GitHub-hosted runner 和 self-hosted runner 。</p><p>所谓的 self-hosted runner 就是用你自己的机器，但是需要 GitHub 能进行访问并给与其所需的机器权限，这个不在本文描述范围内，有兴趣可参考 <a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/using-self-hosted-runners-in-a-workflow target=_blank rel="noopener noreffer">self-hosted runner</a> 。</p><p>GitHub-hosted runner 其实就是 GitHub 提供的虚拟环境，目前有以下四种:</p><ul><li><code>windows-latest</code> : Windows Server 2019</li><li><code>ubuntu-latest</code> 或 <code>ubuntu-18.04</code> : Ubuntu 18.04</li><li><code>ubuntu-16.04</code> : Ubuntu 16.04</li><li><code>macos-latest</code> : macOS Catalina 10.15</li></ul><p>比较常见的:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>runs-on: ubuntu-latest
</span></span></code></pre></td></tr></table></div></div><h3 id=runs-on-多环境>runs-on 多环境</h3><p>有时候我们常常需要对多个操作系统、多个平台、多个编程语言版本进行测试，为此我们可以配置一个构建矩阵。</p><p>例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>runs-on: ${{ matrix.os }}
</span></span><span class=line><span class=cl>strategy:
</span></span><span class=line><span class=cl>  matrix:
</span></span><span class=line><span class=cl>    os: [ubuntu-16.04, ubuntu-18.04]
</span></span><span class=line><span class=cl>    node: [6, 8, 10]
</span></span></code></pre></td></tr></table></div></div><p>示例中配置了两种 os 操作系统和三种 node 版本即总共六种情况的构建矩阵，<code>${{ matrix.os }}</code> 是一个上下文参数。</p><p><code>strategy</code> 策略，包括：</p><ul><li><code>matrix</code> : 构建矩阵。</li><li><code>fail-fast</code> : 默认为 true ，即一旦某个矩阵任务失败则立即取消所有还在进行中的任务。</li><li><code>max-paraller</code> : 可同时执行的最大并发数，默认情况下 GitHub 会动态调整。</li></ul><p>示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>runs</span><span class=o>-</span><span class=n>on</span><span class=p>:</span> <span class=o>$</span><span class=p>{{</span> <span class=n>matrix</span><span class=o>.</span><span class=n>os</span> <span class=p>}}</span>
</span></span><span class=line><span class=cl><span class=n>strategy</span><span class=p>:</span>
</span></span><span class=line><span class=cl>  <span class=n>matrix</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>os</span><span class=p>:</span> <span class=p>[</span><span class=n>macos</span><span class=o>-</span><span class=n>latest</span><span class=p>,</span> <span class=n>windows</span><span class=o>-</span><span class=n>latest</span><span class=p>,</span> <span class=n>ubuntu</span><span class=o>-</span><span class=mf>18.04</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>node</span><span class=p>:</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>10</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=n>include</span><span class=p>:</span>
</span></span><span class=line><span class=cl>      <span class=c1># includes a new variable of npm with a value of 2 for the matrix leg matching the os and version</span>
</span></span><span class=line><span class=cl>      <span class=o>-</span> <span class=n>os</span><span class=p>:</span> <span class=n>windows</span><span class=o>-</span><span class=n>latest</span>
</span></span><span class=line><span class=cl>        <span class=n>node</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl>        <span class=n>npm</span><span class=p>:</span> <span class=mi>2</span>
</span></span></code></pre></td></tr></table></div></div><p><code>include</code> 声明了 os 为 windows-latest 时，增加一个 node 和 npm 分别使用特定的版本的矩阵环境。</p><p>与 <code>include</code> 相反的就是 <code>exclude</code> ：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>runs-on: ${{ matrix.os }}
</span></span><span class=line><span class=cl>strategy:
</span></span><span class=line><span class=cl>  matrix:
</span></span><span class=line><span class=cl>    os: [macos-latest, windows-latest, ubuntu-18.04]
</span></span><span class=line><span class=cl>    node: [4, 6, 8, 10]
</span></span><span class=line><span class=cl>    exclude:
</span></span><span class=line><span class=cl>      # excludes node 4 on macOS
</span></span><span class=line><span class=cl>      - os: macos-latest
</span></span><span class=line><span class=cl>        node: 4
</span></span></code></pre></td></tr></table></div></div><p><code>exclude</code> 用来删除特定的配置项，比如这里当 os 为 macos-latest ，将 node 为 4 的版本从构建矩阵中移除。</p><hr><h2 id=steps>steps</h2><p>steps 的通用格式类似于：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>steps:
</span></span><span class=line><span class=cl>  - name: &lt;step_name&gt;
</span></span><span class=line><span class=cl>    uses: &lt;action&gt;
</span></span><span class=line><span class=cl>    with:
</span></span><span class=line><span class=cl>      &lt;parameter_name&gt;: &lt;parameter_value&gt;
</span></span><span class=line><span class=cl>    id: &lt;step_id&gt;
</span></span><span class=line><span class=cl>    continue-on-error: true
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  - name: &lt;step_name&gt;
</span></span><span class=line><span class=cl>    timeout-minutes:
</span></span><span class=line><span class=cl>    run: &lt;commands&gt;
</span></span></code></pre></td></tr></table></div></div><p>每个 step 步骤可以有:</p><ul><li><code>id</code> : 每个步骤的唯一标识符</li><li><code>name</code> : 步骤的名称</li><li><code>uses</code> : 使用哪个 action</li><li><code>run</code> : 执行哪些指令</li><li><code>with</code> : 指定某个 action 可能需要输入的参数</li><li><code>continue-on-error</code> : 设置为 true 允许此步骤失败 job 仍然通过</li><li><code>timeout-minutes</code> : step 的超时时间</li></ul><hr><h2 id=action>action</h2><p>action 动作通常是可以通用的，这意味着你可以直接使用别人定义好的 action 。</p><h3 id=checkout-action>checkout action</h3><p>checkout action 是一个标准动作，当以下情况时必须且需要率先使用:</p><ul><li>workflow 需要项目库的代码副本，比如构建、测试、或持续集成这些操作。</li><li>workflow 中至少有一个 action 是在同一个项目库下定义的。</li></ul><p>使用示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>- uses: actions/checkout@v1
</span></span></code></pre></td></tr></table></div></div><p>如果你只想浅克隆你的库，或者只复制最新的版本，你可以在 <code>with</code> 中使用 <code>fetch-depth</code> 声明，例如:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>- uses: actions/checkout@v1
</span></span><span class=line><span class=cl>  with:
</span></span><span class=line><span class=cl>    fetch-depth: 1
</span></span></code></pre></td></tr></table></div></div><h3 id=引用-action>引用 action</h3><ul><li>官方 action 标准库: <a href=https://github.com/actions target=_blank rel="noopener noreffer">github.com/actions</a></li><li>社区库: <a href="https://github.com/marketplace?type=actions" target=_blank rel="noopener noreffer">marketplace</a></li></ul><h4 id=1引用公有库中的-action>1、引用公有库中的 action</h4><p>引用 action 的格式是 <code>{owner}/{repo}@{ref}</code> 或 <code>{owner}/{repo}/{path}@{ref}</code> ，例如上例的中 <code>actions/checkout@v1</code> ，你还可以使用标准库中的其它 action ，如设置 node 版本:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  my_first_job:
</span></span><span class=line><span class=cl>    name: My Job Name
</span></span><span class=line><span class=cl>      steps:
</span></span><span class=line><span class=cl>        - uses: actions/setup-node@v1
</span></span><span class=line><span class=cl>          with:
</span></span><span class=line><span class=cl>            node-version: 10.x
</span></span></code></pre></td></tr></table></div></div><h4 id=2引用同一个库中的-action>2、引用同一个库中的 action</h4><p>引用格式：<code>{owner}/{repo}@{ref}</code> 或 <code>./path/to/dir</code> 。</p><p>例如项目文件结构为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>|-- hello-world (repository)
</span></span><span class=line><span class=cl>|   |__ .github
</span></span><span class=line><span class=cl>|       └── workflows
</span></span><span class=line><span class=cl>|           └── my-first-workflow.yml
</span></span><span class=line><span class=cl>|       └── actions
</span></span><span class=line><span class=cl>|           |__ hello-world-action
</span></span><span class=line><span class=cl>|               └── action.yml
</span></span></code></pre></td></tr></table></div></div><p>当你想要在 workflow 中引用自己的 action 时可以：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  build:
</span></span><span class=line><span class=cl>    runs-on: ubuntu-latest
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      # This step checks out a copy of your repository.
</span></span><span class=line><span class=cl>      - uses: actions/checkout@v1
</span></span><span class=line><span class=cl>      # This step references the directory that contains the action.
</span></span><span class=line><span class=cl>      - uses: ./.github/actions/hello-world-action
</span></span></code></pre></td></tr></table></div></div><h4 id=3引用-docker-hub-上的-container>3、引用 Docker Hub 上的 container</h4><p>如果某个 action 定义在了一个 docker container image 中且推送到了 Docker Hub 上，你也可以引入它，格式是 <code>docker://{image}:{tag}</code> ，示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  my_first_job:
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      - name: My first step
</span></span><span class=line><span class=cl>        uses: docker://alpine:3.8
</span></span></code></pre></td></tr></table></div></div><p>更多信息参考: <a href=https://github.com/actions/starter-workflows/blob/master/ci/docker-image.yml target=_blank rel="noopener noreffer">Docker-image.yml workflow</a> 和 <a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/creating-a-docker-container-action target=_blank rel="noopener noreffer">Creating a Docker container action</a> 。</p><h3 id=构建-actions>构建 actions</h3><p>请参考：<a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/building-actions target=_blank rel="noopener noreffer">building-actions</a></p><hr><h2 id=env>env</h2><p>环境变量可以配置在以下地方:</p><ul><li><code>env</code></li><li><code>jobs.&lt;job_id>.env</code></li><li><code>jobs.&lt;job_id>.steps.env</code></li></ul><p>示例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>env:
</span></span><span class=line><span class=cl>  NODE_ENV: dev
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  job1:
</span></span><span class=line><span class=cl>    env:
</span></span><span class=line><span class=cl>      NODE_ENV: test
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>      - name:
</span></span><span class=line><span class=cl>        env:
</span></span><span class=line><span class=cl>          NODE_ENV: prod
</span></span></code></pre></td></tr></table></div></div><p>如果重复，优先使用最近的那个。</p><hr><h2 id=if--context>if & context</h2><p>你可以在 job 和 step 中使用 <code>if</code> 条件语句，只有满足条件时才执行具体的 job 或 step :</p><ul><li><code>jobs.&lt;job_id>.if</code></li><li><code>jobs.&lt;job_id>.steps.if</code></li></ul><p>任务状态检查函数:</p><ul><li><code>success()</code> : 当上一步执行成功时返回 true</li><li><code>always()</code> : 总是返回 true</li><li><code>cancelled()</code> : 当 workflow 被取消时返回 true</li><li><code>failure()</code> : 当上一步执行失败时返回 true</li></ul><p>例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>steps:
</span></span><span class=line><span class=cl>  - name: step1
</span></span><span class=line><span class=cl>    if: always()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  - name: step2
</span></span><span class=line><span class=cl>    if: success()
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  - name: step3
</span></span><span class=line><span class=cl>    if: failure()
</span></span></code></pre></td></tr></table></div></div><p>意思就是 step1 总是执行，step2 需要上一步执行成功才执行，step3 只有当上一步执行失败才执行。</p><h3 id=-expression-><code>${{ &lt;expression> }}</code></h3><p>上下文和表达式: <code>${{ &lt;expression> }}</code> 。</p><p>有时候我们需要与第三方平台进行交互，这时候通常需要配置一个 token ，但是显然这个 token 不可能明文使用，这种个情况下我们要做的就是：</p><ol><li>在具体 repository 库 <code>Settings</code> 的 <code>Secrets</code> 中添加一个密钥，如 <code>SOMEONE_TOKEN</code></li><li>然后在 workflow 中就可以通过 <code>${{ secrets.SOMEONE_TOKEN }}</code> 将 token 安全地传递给环境变量。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>steps:
</span></span><span class=line><span class=cl>  - name: My first action
</span></span><span class=line><span class=cl>    env:
</span></span><span class=line><span class=cl>      SOMEONE_TOKEN: ${{ secrets.SOMEONE_TOKEN }}
</span></span></code></pre></td></tr></table></div></div><p>这里的 <code>secrets</code> 就是一个上下文，除此之外还有很多，比如：</p><ul><li><code>github.event_name</code> : 触发 workflow 的事件名称</li><li><code>job.status</code> : 当前 job 的状态，如 success, failure, or cancelled</li><li><code>steps.&lt;step id>.outputs</code> : 某个 action 的输出</li><li><code>runner.os</code> : runner 的操作系统如 Linux, Windows, or macOS</li></ul><p>这里只列举了少数几个。</p><p>另外在 <code>if</code> 中使用时不需要 <code>${{ }}</code> 符号，比如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>steps:
</span></span><span class=line><span class=cl> - name: My first step
</span></span><span class=line><span class=cl>   if: github.event_name == &#39;pull_request&#39; &amp;&amp; github.event.action == &#39;unassigned&#39;
</span></span><span class=line><span class=cl>   run: echo This event is a pull request that had an assignee removed.
</span></span></code></pre></td></tr></table></div></div><p>上下文和表达式详细信息请参考： <a href=https://help.github.com/en/actions/automating-your-workflow-with-github-actions/contexts-and-expression-syntax-for-github-actions target=_blank rel="noopener noreffer">contexts-and-expression</a></p><hr><h2 id=结语>结语</h2><p>最后给个自己写的示例，仅供参考：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>name: GitHub Actions CI
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>on: [push]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>jobs:
</span></span><span class=line><span class=cl>  build-test-deploy:
</span></span><span class=line><span class=cl>    runs-on: ubuntu-latest
</span></span><span class=line><span class=cl>    strategy:
</span></span><span class=line><span class=cl>      matrix:
</span></span><span class=line><span class=cl>        node-version: [8.x, 10.x, 12.x]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    steps:
</span></span><span class=line><span class=cl>    - uses: actions/checkout@v1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    - name: install linux packages
</span></span><span class=line><span class=cl>      run: sudo apt-get install -y --no-install-recommends libevent-dev
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    - name: install memcached
</span></span><span class=line><span class=cl>      if: success()
</span></span><span class=line><span class=cl>      run: |
</span></span><span class=line><span class=cl>        wget -O memcached.tar.gz http://memcached.org/files/memcached-1.5.20.tar.gz
</span></span><span class=line><span class=cl>        tar -zxvf memcached.tar.gz
</span></span><span class=line><span class=cl>        cd memcached-1.5.20
</span></span><span class=line><span class=cl>        ./configure &amp;&amp; make &amp;&amp; sudo make install
</span></span><span class=line><span class=cl>        memcached -d
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    - name: Use Node.js ${{ matrix.node-version }}
</span></span><span class=line><span class=cl>      uses: actions/setup-node@v1
</span></span><span class=line><span class=cl>      if: success()
</span></span><span class=line><span class=cl>      with:
</span></span><span class=line><span class=cl>        node-version: ${{ matrix.node-version }}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    - name: npm install, build, and test
</span></span><span class=line><span class=cl>      env:
</span></span><span class=line><span class=cl>        CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
</span></span><span class=line><span class=cl>      if: success()
</span></span><span class=line><span class=cl>      run: |
</span></span><span class=line><span class=cl>        npm ci
</span></span><span class=line><span class=cl>        npm test
</span></span><span class=line><span class=cl>        npm run report-coverage
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2023-02-27</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://rifewang.github.io/github-actions/ data-title="GitHub Actions 指南" data-hashtags=Github,CICD><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://rifewang.github.io/github-actions/ data-hashtag=Github><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://rifewang.github.io/github-actions/ data-title="GitHub Actions 指南"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://rifewang.github.io/github-actions/ data-title="GitHub Actions 指南"><i data-svg-src=/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://rifewang.github.io/github-actions/ data-title="GitHub Actions 指南"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/github/>Github</a>,&nbsp;<a href=/tags/cicd/>CICD</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/ava-codecov-travis/ class=prev rel=prev title=给你的库加上酷炫的小徽章><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>给你的库加上酷炫的小徽章</a>
<a href=/image-search-system/ class=next rel=next title=以图搜图系统概述>以图搜图系统概述<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>凌虚</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.js></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>